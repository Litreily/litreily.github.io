<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="simple life"><meta name="theme-color" content="#2d4356"><meta name="baidu-site-verification" content="pte8o83UGG"><title>Labview - DAQ 助手详解 | LITREILY</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.png"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script><script>var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?d55250b3059d32736607d30baa6e0ca2";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();</script></head><link rel="stylesheet" type="text/css" href="/plugins/prettify/doxy.css"><script type="text/javascript" src="/js/ready.js" async></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><body class="night"><div class="mobile-head" id="mobile-head"><div class="navbar-icon"><span></span><span></span><span></span></div><div class="navbar-title"><a href="/">LITREILY</a></div><div class="navbar-search"><!--= show a circle here--></div></div><div class="h-wrapper" id="menu"><nav class="h-head box"><div class="m-hdimg"><a class="hdimg img" href="/"><img class="nofancybox" src="/img/profile.jpg" width="128" height="128"></a><h1 class="ttl"><a href="/">LITREILY</a></h1></div><p class="m-desc">心之所向，无惧无悔,<br>愿求仁得仁，复无怨怼！</p><div class="m-nav"><ul><li><span class="dot">●</span><a href="/archives/">归档</a></li><li><span class="dot">●</span><a href="/categories/">分类</a></li><li><span class="dot">●</span><a href="/tags/">标签</a></li><li><span class="dot">●</span><a href="/about/">关于</a></li><li><span class="dot">●</span><a href="/notes/">笔记</a></li><li><span class="dot">●</span><a href="/atom.xml">RSS</a></li><li class="m-sch"><form class="form" id="j-formsch" method="get"><input class="txt" type="text" id="local-search-input" name="q" value="搜索" onfocus="if(this.value=='搜索'){this.value='';}" onblur="if(this.value==''){this.value='搜索';}"><input type="text" style="display:none;"></form></li></ul><div id="local-search-result"></div></div></nav></div><div id="back2Top"><a class="fa fa-arrow-up" title="Back to top" href="#"></a></div><div class="box" id="container"><div class="l-wrapper"><div class="l-content box"><div class="l-post l-post-art"><article class="p-art"><div class="p-header box"><h1 class="p-title">Labview - DAQ 助手详解</h1><div class="p-info"><span class="p-date"><i class="fa fa-calendar"></i><a href="/2017/04/24/labview-DAQ/">2017-04-24</a></span><span class="p-category"><i class="fa fa-folder"></i><a href="/categories/LabVIEW/">LabVIEW</a></span><span class="p-view" id="busuanzi_container_page_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_page_pv"></span></span></div></div><div class="p-content"><h2 id="DAQ-助手简介"><a href="#DAQ-助手简介" class="headerlink" title="DAQ 助手简介"></a>DAQ 助手简介</h2><h3 id="Express-VI"><a href="#Express-VI" class="headerlink" title="Express VI"></a>Express VI</h3><p><code>Express VI</code> 是 LabVIEW 7 及更高版本拥有的快速 VI，此类 VI 将一些常见的功能打包，然后封装在简单易用的交互式的 VI 程序中，方便开发人员配置参数和实现功能。</p>
<p><code>DAQ</code> 助手是完成信号采集任务的常用工具，以 <code>Express VI</code> 的形式呈现，具有交互式的配置界面，配合 NI 公司提供的采集卡，可以完成绝大部分的信号采集任务。</p>
<h3 id="使用方法简述（采集-AI-信号）"><a href="#使用方法简述（采集-AI-信号）" class="headerlink" title="使用方法简述（采集 AI 信号）"></a>使用方法简述（采集 AI 信号）</h3><h4 id="选择信号类型"><a href="#选择信号类型" class="headerlink" title="选择信号类型"></a>选择信号类型</h4><p><img src="/assets/labview/daqAssistant/selectSignal.png" alt="DAQ助手信号类型选择界面"></p>
<p>在采集卡（虚拟的或实际的均可）已连接的情况下，从 VI 的程序框图中打开 <code>DAQ</code> 助手，选择待采集信号的类型，此处选择模拟输入电压信号。</p>
<h4 id="选择物理通道"><a href="#选择物理通道" class="headerlink" title="选择物理通道"></a>选择物理通道</h4><p><img src="/assets/labview/daqAssistant/selectChannel.png" alt="DAQ助手物理通道选择界面"></p>
<p>选择通道时，按住<code>Ctrl</code> 或 <code>Shift</code> 可同时选择多路通道</p>
<h4 id="配置信号采集参数"><a href="#配置信号采集参数" class="headerlink" title="配置信号采集参数"></a>配置信号采集参数</h4><p><img src="/assets/labview/daqAssistant/daqConfig.png" alt="DAQ助手通道配置界面"></p>
<p>配置界面中可以进行物理通道的删除与添加，通道名称的修改，接线端连接方式的选择，采集模式的选择等操作，配置界面右侧对于每个选项都有详细说明。</p>
<p>信号采集模式包含“1 采样”、“N 采样”和“连续采样” 3 大类。对于连续采样而言，采样率决定了信号采样的间隔时间，通常将其设为最大有效信号频率的 10 倍左右；采样点数指定了连续采样时的数据缓冲区大小，简单来说，就是每次采样后得到的待处理数据长度，待读取采样与采样率之比就是连续采样的间隔时间。</p>
<p>此外，信号输入范围默认为 <code>-10~10v</code> ；接线端配置默认为差分输入，通常情况下，我们会选择单端输入 <code>RSE</code>，表示一端接 <code>AGND</code>，一端接输入端口，不同的接线端配置方式对应的连线图也不一致，在进行信号端口连线时需要按所选方式进行连接。</p>
<h4 id="启用-TDMS-记录"><a href="#启用-TDMS-记录" class="headerlink" title="启用 TDMS 记录"></a>启用 TDMS 记录</h4><p><img src="/assets/labview/daqAssistant/saveTdms.png" alt="DAQ助手启用TDMS记录"></p>
<p>在配置界面中，还可以选择是否将采集的数据记录至 <code>TDMS</code> 文件中，同时可以选择好默认的存储路径、记录模式和组名。如果信号采集结束后需要实时处理，需要将记录模式设为“记录并读取”，如果仅仅是记录而无需处理，则选择“仅记录”。组名将会显示在 <code>TDMS</code> 文件的分组列表中。</p>
<p>如果记录时间很长，长达几个小时甚至几天时，此时由于数据量过大，可以勾选“包含多个文件”，并规定单个文件的存储容量。</p>
<h4 id="配置接口"><a href="#配置接口" class="headerlink" title="配置接口"></a>配置接口</h4><p><img src="/assets/labview/daqAssistant/daqIcon.png" alt="DAQ助手配置完成图"></p>
<p>当采集信息确定好以后，会在程序框图中生成相应的 <code>DAQ</code> 图标，后续如果需要更改参数，可以参考以下两种方法：</p>
<ol>
<li>双击 <code>DAQ</code> 助手，打开配置界面更改需要更新的参数</li>
<li>通过 <code>DAQ</code> 助手提供的输入接口，从前面板或程序框图修改相应参数</li>
</ol>
<h2 id="DAQ-助手程序解析"><a href="#DAQ-助手程序解析" class="headerlink" title="DAQ 助手程序解析"></a>DAQ 助手程序解析</h2><p>对 <code>Express VI</code> 而言，双击无法打开程序框图，打开的是配置界面。此外，<code>Express VI</code> 的程序是动态的，对于 <code>DAQ</code> 助手而言，选择不同的通道数，不同的信号类型，其产生的执行程序都不一样。下面以双通道连续采集模拟输入电压信号为例，解析 <code>DAQ</code> 助手的内部执行程序。</p>
<h3 id="Express-VI-转标准子-VI"><a href="#Express-VI-转标准子-VI" class="headerlink" title="Express VI 转标准子 VI"></a>Express VI 转标准子 VI</h3><p>想要查看 <code>DAQ</code> 助手的程序框图，必须先将其转换为标准子 VI，转换方法很简单，选择 <code>DAQ</code> 助手，右键选择“打开前面板”或“open front panel”（英文版）。</p>
<h3 id="整体程序框图"><a href="#整体程序框图" class="headerlink" title="整体程序框图"></a>整体程序框图</h3><p><img src="/assets/labview/daqAssistant/daqDiagram.png" alt="DAQ助手程序框图"></p>
<p>上图是 <code>DAQ</code> 助手的程序框图，可简化为如下图所示的程序流程图，图中的一对移位寄存器代指的是信号采集任务句柄。</p>
<p><img src="/assets/labview/daqAssistant/daqDiagram_visio.png" alt="DAQ助手程序框图"></p>
<h3 id="程序解析"><a href="#程序解析" class="headerlink" title="程序解析"></a>程序解析</h3><p>下面对以上程序框图中的每个模块进行详细分析。</p>
<h4 id="创建采集任务"><a href="#创建采集任务" class="headerlink" title="创建采集任务"></a>创建采集任务</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_1.png" alt="DAQ助手局部程序框图1"></p>
<p>图中包含两个移位寄存器，上面的寄存器用于存储采集任务的引用句柄，当该句柄无效或首次调用该 VI 时会执行 <code>DAQmx Create Task</code> 函数，即创建新的采集任务，并产生新任务的引用句柄。</p>
<h4 id="生成通道名称"><a href="#生成通道名称" class="headerlink" title="生成通道名称"></a>生成通道名称</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_2.png" alt="DAQ助手局部程序框图2"></p>
<p>添加物理通道前，需要选择好相应的通道名称，模拟输入信号简称 <code>ai</code>，通道名称格式为 <code>ain</code>, n 从 0 开始增加。在此例中，所选通道为 <code>ai0</code> 与 <code>ai1</code>。设备名为 <code>Dev1</code>,所以最终得到的通道名称为 <code>Dev1/ai0</code> 与 <code>Dev1/ai1</code>。正常情况下，该条件结构内的程序仅在首次调用时执行一次。</p>
<h4 id="添加物理通道"><a href="#添加物理通道" class="headerlink" title="添加物理通道"></a>添加物理通道</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_3.png" alt="DAQ助手局部程序框图3"></p>
<p>确定好通道名称后，便可根据需求添加相应的物理通道了，如图所示，标志 ① 连接的是输入接线端配置参数，往下的参数可以参考如下的函数 <code>IO</code> 接口图。之所以用 <code>for</code> 循环，是因为每个采集通道均需调用一次 <code>DAQmx Create Channel</code> 函数。本例创建的通道数为 2，所以 <code>for</code> 循环的执行次数为 2。</p>
<p><img src="/assets/labview/daqAssistant/daqDiagram_3_1.png" alt="DAQ助手局部程序框图3-1"></p>
<h4 id="配置采样时钟"><a href="#配置采样时钟" class="headerlink" title="配置采样时钟"></a>配置采样时钟</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_4.png" alt="DAQ助手局部程序框图4"></p>
<p>对于连续采样模式，必须调用 <code>DAQmx Timing</code> 定时函数，配置好采样率和采样点数。但在此处需要注意的是，<code>DAQ</code> 助手并没有实现采集过程中修改采样频率 <code>Sample rate</code> 的功能，也就是说：在信号采集过程中，无法修改采样频率，直到采集任务出错或停止。如果实际应用中有采集过程中修改采样率的需求，只能另行编写采集程序，这也是 <code>Express VI</code> 不够灵活的一个体现。</p>
<h4 id="配置-TDMS-记录"><a href="#配置-TDMS-记录" class="headerlink" title="配置 TDMS 记录"></a>配置 TDMS 记录</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_5.png" alt="DAQ助手局部程序框图5"></p>
<p><code>TDMS</code> 文件记录是非常常用的功能，可以将采集到的信号快速存储至 <code>.tdms</code> 文件中。使用 <code>DAQmx Configure Logging(TDMS)</code> 函数配置 <code>TDMS</code> 记录功能时，可参考如下接口，设置好记录模式、组名、文件路径等。</p>
<p><img src="/assets/labview/daqAssistant/daqDiagram_5_1.png" alt="DAQ助手局部程序框图5-1"></p>
<h4 id="开始任务"><a href="#开始任务" class="headerlink" title="开始任务"></a>开始任务</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_6.png" alt="DAQ助手局部程序框图6"></p>
<p>当采集任务相关的参数都配置完成后，即可开始任务 <code>DAQmx Start Task</code>。</p>
<p>此前 6 个步骤仅需执行一次，直到下一次重启软件或出现异常。</p>
<h4 id="信号采集"><a href="#信号采集" class="headerlink" title="信号采集"></a>信号采集</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_7.png" alt="DAQ助手局部程序框图7"></p>
<p>开始任务后，物理采集卡就将按照给定的参数开始采集，并将数据存放至采集卡内的缓冲区内，通过相应的 <code>DAQmx Read</code> 函数，选择合适的采样方式（此处选为“模拟1D波形N通道N采样”）， <code>DAQ</code> 驱动程序便会从采集卡的缓冲区中读取数据，并默认以动态数据格式 DDT(Dynamic Data Type) 输出。<code>DAQ</code> 助手返回的动态数据便是该函数返回的数据 <code>data</code>。</p>
<h4 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h4><p><img src="/assets/labview/daqAssistant/daqDiagram_8.png" alt="DAQ助手局部程序框图8"></p>
<p>所谓异常处理，指的注意异常情况是采集卡在信号采集过程中被拔出，导致采集任务无法继续执行，此时 <code>DAQ</code> 助手将会停止并清除任务，并将任务的引用句柄重置为空。下一次 while 循环将判断出该空句柄，然后重新创建任务，如果采集任务被顺利创建，说明异常已解除，采集卡已重新连接，采集任务便可自动继续进行；如果采集任务创建失败，则循环创建任务直到成功为止。</p>
<p>当然还有一种非异常情况也会停止并清除任务，那就是用户手动点击停止按钮 stop ，任务正常终止。</p>
<h2 id="DAQ-助手程序简化"><a href="#DAQ-助手程序简化" class="headerlink" title="DAQ 助手程序简化"></a>DAQ 助手程序简化</h2><p>从上面的解析可以看出，<code>DAQ</code> 助手作为通用型工具，包含了所有需要的配置参数。<code>DAQ</code> 助手有其方便之处，但同时也存在许多不灵活的地方：</p>
<ol>
<li>经测试，对于单通道和 N 通道的采集任务，DAQ 助手的执行程序结构完全一致，生成通道名称和添加物理通道均采用了 for 循环结构，这对单通道采集原本是不需要的；</li>
<li>实际应用中，添加物理通道时，有许多参数使用默认值即可，过多的参数只会使代码显得冗余；</li>
<li>上述提及的一个问题：无法在采集过程中修改采样率；</li>
<li>存储 TDMS 文件时，默认会存储所有通道的数据，无法单独指定需要进行数据存储的通道；</li>
<li>若要采集编码器的计数值时，使用 <code>DAQ</code> 助手的配置界面无法返回整型的原始计数值。</li>
</ol>
<p>鉴于以上种种原因，在实际编程过程中，完全可以使用底层的 <code>DAQmx</code> 函数编写信号采集程序，或者在原有的 <code>DAQ</code> 助手程序基础上修改和简化。</p>
<h3 id="简化后程序"><a href="#简化后程序" class="headerlink" title="简化后程序"></a>简化后程序</h3><p>此处提供一个将上述代码简化并添加采样率可修改的程序。</p>
<p><img src="/assets/labview/daqAssistant/daqCustomsize.png" alt="DAQ助手简化改进版"></p>
<p>在该修改版中，去掉了大量的默认参数，减少了条件分支个数；添加了一个反馈节点，用以判断采样率的变化情况，在采样率改变时，该程序将删除原有任务，并重新创建新的任务。</p>
<h3 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h3><p><a href="http://pan.baidu.com/s/1i50wss9" target="_blank" rel="noopener">http://pan.baidu.com/s/1i50wss9</a></p>
</div><div class="p-copyright"><blockquote><div class="p-copyright-author"><span class="p-copyright-key">本文作者：</span><span class="p-copytight-value"><a href="mailto:litreily@163.com">litreily</a></span></div><div class="p-copyright-link"><span class="p-copyright-key">本文链接：</span><span class="p-copytight-value"><a href="/2017/04/24/labview-DAQ/">https://www.litreily.top/2017/04/24/labview-DAQ/</a></span></div><div class="p-copyright-note"><span class="p-copyright-key">版权声明：</span><span class="p-copytight-value">本博客所有文章除特殊声明外，均采用<a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/"> CC BY-NC 4.0 </a>许可协议。转载请注明出处 <a href="https://www.litreily.top">litreily的博客</a>！</span></div></blockquote></div></article><div class="p-info box"><span class="p-tags"><i class="fa fa-tags"></i><a href="/tags/labview/">labview</a><a href="/tags/tdms/">tdms</a></span></div><aside id="toc"><div class="toc-title">目录</div><nav><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#DAQ-助手简介"><span class="toc-number">1.</span> <span class="toc-text">DAQ 助手简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Express-VI"><span class="toc-number">1.1.</span> <span class="toc-text">Express VI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用方法简述（采集-AI-信号）"><span class="toc-number">1.2.</span> <span class="toc-text">使用方法简述（采集 AI 信号）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#选择信号类型"><span class="toc-number">1.2.1.</span> <span class="toc-text">选择信号类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择物理通道"><span class="toc-number">1.2.2.</span> <span class="toc-text">选择物理通道</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置信号采集参数"><span class="toc-number">1.2.3.</span> <span class="toc-text">配置信号采集参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#启用-TDMS-记录"><span class="toc-number">1.2.4.</span> <span class="toc-text">启用 TDMS 记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置接口"><span class="toc-number">1.2.5.</span> <span class="toc-text">配置接口</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DAQ-助手程序解析"><span class="toc-number">2.</span> <span class="toc-text">DAQ 助手程序解析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Express-VI-转标准子-VI"><span class="toc-number">2.1.</span> <span class="toc-text">Express VI 转标准子 VI</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#整体程序框图"><span class="toc-number">2.2.</span> <span class="toc-text">整体程序框图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#程序解析"><span class="toc-number">2.3.</span> <span class="toc-text">程序解析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#创建采集任务"><span class="toc-number">2.3.1.</span> <span class="toc-text">创建采集任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#生成通道名称"><span class="toc-number">2.3.2.</span> <span class="toc-text">生成通道名称</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#添加物理通道"><span class="toc-number">2.3.3.</span> <span class="toc-text">添加物理通道</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置采样时钟"><span class="toc-number">2.3.4.</span> <span class="toc-text">配置采样时钟</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置-TDMS-记录"><span class="toc-number">2.3.5.</span> <span class="toc-text">配置 TDMS 记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#开始任务"><span class="toc-number">2.3.6.</span> <span class="toc-text">开始任务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#信号采集"><span class="toc-number">2.3.7.</span> <span class="toc-text">信号采集</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异常处理"><span class="toc-number">2.3.8.</span> <span class="toc-text">异常处理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#DAQ-助手程序简化"><span class="toc-number">3.</span> <span class="toc-text">DAQ 助手程序简化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#简化后程序"><span class="toc-number">3.1.</span> <span class="toc-text">简化后程序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下载链接"><span class="toc-number">3.2.</span> <span class="toc-text">下载链接</span></a></li></ol></li></ol></nav></aside></div><section class="p-ext"><div class="l-pager l-pager-dtl box"><a class="prev" href="/2017/06/11/initial-ubuntu/">&lt; 安装Ubuntu后的系统精简与美化</a><a class="next" href="/2017/03/25/labview-cfg/">Labview - 存储 .cfg 配置文件 &gt;</a></div><div id="valine-comment"><style type="text/css">.night .v[data-class=v] a { color: #0F9FB4 !important; }
.night .v[data-class=v] a:hover { color: #216C73 !important; }
.night .v[data-class=v] li { list-style: inherit; }
.night .v[data-class=v] .vwrap { border: 1px solid #223441; border-radius: 0; }
.night .v[data-class=v] .vwrap:hover { box-shadow: 0 0 6px 1px #223441; }
.night .v[data-class=v] .vbtn { border-radius: 0; background: none; }
.night .v[data-class=v] .vlist .vcard .vh { border-bottom-color: #293D4E; }
.night .v[data-class=v] .vwrap .vheader .vinput { border-bottom-color: #223441; }
.night .v[data-class=v] .vwrap .vheader .vinput:focus { border-bottom-color: #339EB4; }
.night .v[data-class=v] code, .night .v[data-class=v] pre,.night .v[data-class=v] .vlist .vcard .vhead .vsys { background: #203240 !important; }
.night .v[data-class=v] code, .night .v[data-class=v] pre { color: #F0F0F0; font-size: 95%; }
.v[data-class=v] .vcards .vcard .vh {border-bottom-color: #223441; }
.night .v[data-class=v] .vcards .vcard .vcontent.expand:before {background: linear-gradient(180deg,rgba(38,57,73,.4),rgba(38,57,73,.9));}
.night .v[data-class=v] .vcards .vcard .vcontent.expand:after {background: rgba(38,57,73,.9)}
</style><div id="vcomment"></div><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  appId:'1ecKy4yk4u1R7C4tScKbnyq9-gzGzoHsz',
  appKey:'uvA3xgqNW3q8TGR483lxXcpB',
  lang: 'zh-cn',
  placeholder:'ヾﾉ≧∀≦)o Come on, say something...',
  avatar:'identicon',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></section><footer><p>Copyright © 2016 - 2020 <a href="/." rel="nofollow">LITREILY</a> | <strong><a rel="nofollow" target="_blank" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a></strong><br><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span></span> <span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span></span> | Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a>Theme with<a rel="nofollow" target="_blank" href="https://github.com/litreily/snark-hexo"> snark.</a></p></footer></div></div></div><script type="text/javascript" src="/plugins/prettify/prettify.js"></script><script type="text/javascript" src="/js/search.js"></script><script type="text/javascript" src="/js/top.js"></script><script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
    search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.1" async></script></body></html>